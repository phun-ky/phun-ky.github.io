--- 
layout: posttitle: "how to use javascript to insert text at cursor position in a form input element"description: ""category: "undefined" tags: [] --- Was stuck in a rut here with a JavaScript problem, but I did some active research that I became very happy with:<br /><br/><br /><br/><pre class="brush: javascript"><br/>    function InsertTextAtCursor(input, valueString){<br/>   //IE support<br/>   if (document.selection) {<br/>      $(input).focus();<br/>      sel = document.selection.createRange();<br/>      sel.text = valueString;<br/>    }<br/>    //MOZILLA/NETSCAPE support<br/>   else if ($(input).selectionStart || $(input).selectionStart == '0') {<br/>      var startPos = $(input).selectionStart;<br/>      var endPos = $(input).selectionEnd;<br/>      $(input).value = $(input).value.substring(0, startPos)<br/>     + valueString<br/>      + $(input).value.substring(endPos, $(input).value.length);<br/>   } <br/>   else{<br/>      $(input).value += valueString;<br/>   }<br/><br/> }<br/></pre><br/>Notice that I've used prototype as well in this solution. The function could be a lot more, but I just need it for one feature only.