--- 
layout: posttitle: "How to create a table of contents with javascript and prototype.js"description: ""category: "undefined" tags: [] --- Well, if you write long posts every now and then and you want your users to access the information in an easy way instead of splitting up the post in several pages, this is a very nice solution to this issue.<br/><h2>Step one: Add html element to the page</h2><br/><pre class="brush: html"><br/>&lt;div id="toc" style="display:none;">Post content:&lt;br />&lt;/div><br/></pre><br/><h2>Step two: Add the javascript</h2><br/><pre class="brush: javascript"><br/>// When page has finished loading<br/>Event.observe(window,'load',function(event) {  <br/> // Check if the element exists<br/> if($('toc')){<br/>    var show = false;<br/>    var toc_i = 0;<br/>   // Check the div contaning headings you want to have in your table of contents  <br/>   $$('#post_content h2,#post_content h3').each(function(element){<br/>      toc_i++;<br/>     show      = true;<br/>      // Add an id to the headings for linking<br/>     toc_title_id    = 'article_chapter_' + toc_i;<br/>      $(element).id     = toc_title_id;<br/>      if(element.tagName == 'H3'){          <br/>       $('toc').innerHTML  += '&nbsp;&nbsp;&nbsp;&nbsp;- &lt;a href="#' + $(element).id + '" onclick="$(element).scrollTo($(element));">' + element.innerHTML.stripTags() + '&lt;/a>&lt;br /' + '>';       <br/>     }<br/>      else{<br/>        $('toc').innerHTML  += toc_i + '. &lt;a href="#' + $(element).id + '" onclick="$(element).scrollTo($(element));">' + element.innerHTML.stripTags() + '&lt;/a>&lt;br /' + '>';<br/>      }<br/>      // Scroll to top<br/>     $(element).innerHTML  += '&lt;a href="#post_content" onclick="$(\'post_content\').scrollTo($(\'post_content\'));" class="backToTop">#top&lt;/a>';<br/>    }); <br/>   if(show){<br/>      $('toc').appear();<br/>   }<br/>  }<br/>});<br/></pre><br/>That's practically it! Enjoy.<br/><br/>